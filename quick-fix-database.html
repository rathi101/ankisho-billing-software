<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quick Database Fix - Use Render PostgreSQL</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .step { background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 8px; border-left: 4px solid #007cba; }
        .error { background: #f8d7da; border-left: 4px solid #dc3545; }
        .success { background: #d4edda; border-left: 4px solid #28a745; }
        .warning { background: #fff3cd; border-left: 4px solid #ffc107; }
        .code { background: #e9ecef; padding: 10px; border-radius: 4px; font-family: monospace; margin: 10px 0; }
        .button { background: #007cba; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block; margin: 5px 0; }
        .highlight { background: #ffeb3b; padding: 2px 4px; border-radius: 3px; font-weight: bold; }
    </style>
</head>
<body>
    <h1>ğŸš€ Quick Fix - Use Render PostgreSQL Database</h1>
    
    <div class="step error">
        <h3>âŒ MongoDB Atlas Problem</h3>
        <p>MongoDB Atlas authentication bar bar fail ho raha hai. Alternative use karte hain.</p>
    </div>

    <div class="step success">
        <h3>âœ… Solution: Render PostgreSQL (Free & Reliable)</h3>
        <p>Render ka built-in PostgreSQL database use karenge - ye zyada stable hai.</p>
    </div>

    <div class="step">
        <h3>ğŸ—„ï¸ Step 1: Render mein PostgreSQL Add Kariye</h3>
        
        <p>1. <a href="https://render.com" target="_blank" class="button">Render Dashboard</a> pe jaiye</p>
        <p>2. <span class="highlight">New +</span> click kariye</p>
        <p>3. <span class="highlight">PostgreSQL</span> select kariye</p>
        <p>4. Database details:</p>
        
        <div class="code">
Name: <span class="highlight">ankisho-billing-db</span>
Database: <span class="highlight">ankisho_billing</span>
User: <span class="highlight">ankisho</span>
Region: <span class="highlight">Oregon (US West)</span>
        </div>
        
        <p>5. <span class="highlight">Create Database</span> click kariye</p>
    </div>

    <div class="step">
        <h3>ğŸ”— Step 2: Connection String Copy Kariye</h3>
        
        <p>1. Database create hone ke baad <span class="highlight">Connect</span> tab mein jaiye</p>
        <p>2. <span class="highlight">External Connection</span> string copy kariye</p>
        <p>3. Ye kuch aisa hoga:</p>
        
        <div class="code">
postgres://ankisho:XXXXX@dpg-xxxxx-a.oregon-postgres.render.com/ankisho_billing
        </div>
    </div>

    <div class="step warning">
        <h3>âš™ï¸ Step 3: Backend Service mein Database Connect Kariye</h3>
        
        <p>1. Render dashboard mein apni <span class="highlight">backend service</span> select kariye</p>
        <p>2. <span class="highlight">Environment</span> tab mein jaiye</p>
        <p>3. <span class="highlight">Add Environment Variable</span> click kariye</p>
        <p>4. Ye variables add kariye:</p>
        
        <div class="code">
Key: <span class="highlight">DATABASE_URL</span>
Value: <span class="highlight">postgres://ankisho:XXXXX@dpg-xxxxx-a.oregon-postgres.render.com/ankisho_billing</span>

Key: <span class="highlight">DB_TYPE</span>
Value: <span class="highlight">postgresql</span>
        </div>
        
        <p>5. <span class="highlight">MONGODB_URI</span> variable ko <span class="highlight">DELETE</span> kar diye</p>
    </div>

    <div class="step">
        <h3>ğŸ”§ Step 4: Backend Code Update (Automatic)</h3>
        
        <p>Backend code automatically detect karega PostgreSQL connection. Bas environment variables sahi set karne hain.</p>
        
        <p>Ye variables ensure kariye:</p>
        <div class="code">
DATABASE_URL=postgres://ankisho:XXXXX@dpg-xxxxx-a.oregon-postgres.render.com/ankisho_billing
DB_TYPE=postgresql
NODE_ENV=production
JWT_SECRET=ankisho_billing_jwt_secret_2024
FRONTEND_URL=https://ankisho-billing-software.netlify.app
        </div>
    </div>

    <div class="step">
        <h3>ğŸš€ Step 5: Redeploy</h3>
        
        <p>1. <span class="highlight">Manual Deploy</span> click kariye</p>
        <p>2. <span class="highlight">Logs</span> mein ye messages dekho:</p>
        
        <div class="code success">
âœ… PostgreSQL connected successfully
ğŸš€ Server running on port 10000
        </div>
    </div>

    <div class="step success">
        <h3>âœ… Step 6: Test Kariye</h3>
        
        <p>1. Backend health check:</p>
        <div class="code">
https://your-backend-name.onrender.com/api/health
        </div>
        
        <p>2. Response aana chahiye:</p>
        <div class="code">
{
  "success": true,
  "message": "Ankisho Billing Software API is running"
}
        </div>
    </div>

    <div class="step warning">
        <h3>ğŸ’¡ Alternative: Use MongoDB Compass Test</h3>
        
        <p>Agar phir bhi MongoDB use karna hai:</p>
        
        <p>1. <a href="https://www.mongodb.com/products/compass" target="_blank">MongoDB Compass</a> download kariye</p>
        <p>2. Connection string test kariye locally</p>
        <p>3. Agar Compass mein connect hota hai, to same string Render mein use kariye</p>
        
        <div class="code">
mongodb+srv://admin:password123@cluster0.xxxxx.mongodb.net/ankisho-billing
        </div>
    </div>

    <div class="step success">
        <h3>ğŸ¯ Why PostgreSQL is Better</h3>
        
        <ul>
            <li>âœ… No authentication issues</li>
            <li>âœ… Direct integration with Render</li>
            <li>âœ… Free tier available</li>
            <li>âœ… Automatic backups</li>
            <li>âœ… Better performance</li>
        </ul>
    </div>

    <script>
        console.log('ğŸš€ PostgreSQL Database Fix Ready!');
        console.log('ğŸ“‹ Steps: 1) Create PostgreSQL 2) Get Connection 3) Update Environment 4) Deploy');
    </script>
</body>
</html>
